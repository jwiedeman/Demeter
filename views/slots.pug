extends layout

block content
  .pb-2.mt-2.mb-4.border-bottom.border.border-dark.container
    h3 New Slot

    form(method='POST')
      input(type='hidden', name='_csrf', value=_csrf)
      .form-group.row
        label(class='col-md-2 col-form-label font-weight-bold', for='name') Slot Name
        .col-md-8
          input.border.border-dark.form-control(type='text', name='name', id='name', autocomplete='name', autofocus, required)
      .form-group
        .offset-md-2.col-md-8.p-1
          button.btn.btn-secondary(type='submit')
            | Submit new Unit



  div.border.border-dark.container
    h3 Locations
      each loc, index in location
        div#accordion.accordion-toggle.container.border.border-dark
         .row(data-toggle='collapse', href='#collapse'+index)
            .col
              p= loc.name

            
        div(id='collapse'+index class=['panel-collapse','collapse','in']).container
            .row
              div.border.border-warning.col
                form(action='/locations/edit', method='POST')
                  input(type='hidden', name='_csrf', value=_csrf)
                  input(type='hidden', name='itemId', value=loc._id)
                  label Modify value : 
                  input(type='text', name='newName', value=loc.name)
                  br
                  button.btn.btn-warning(type='submit')
                      | Save modified values


              div.border.border-danger.col
                p 
                  | Deletes location & all location data
                form(action='/locations/delete', method='POST')
                    input(type='hidden', name='_csrf', value=_csrf)
                    input(type='hidden', name='deleteId', value=loc)
                    button.btn.btn-danger(type='submit')
                      | Delete location :  #{loc.name}

    

